{"version":3,"file":"appBundle.js","sourceRoot":"","sources":["../../scripts/ExtraMedia.ts","../../scripts/Game.ts","../../scripts/Menu.ts","../../scripts/Services/RequestHelper.ts","../../scripts/PictureKeys.ts","../../scripts/State.ts","../../scripts/index.ts","../../scripts/Entities/KeyEntity.ts","../../scripts/Entities/SpriteEntity.ts","../../scripts/Entities/Box.ts","../../scripts/Entities/GroupEntity.ts","../../scripts/Entities/Picture.ts","../../scripts/Entities/PictureHud.ts","../../scripts/Entities/Star.ts","../../scripts/Interfaces/Map.ts","../../scripts/Interfaces/PhaserGameInterfaces.ts","../../scripts/Interfaces/PhaserInterfaces.ts","../../scripts/Services/BoxManager.ts","../../scripts/Services/CollidablesManager.ts","../../scripts/Services/DeviceHelper.ts","../../scripts/Services/HudManager.ts","../../scripts/Services/ImageProvider.ts","../../scripts/Services/PictureManager.ts","../../scripts/Services/PreloadDynamicManager.ts","../../scripts/Services/ScreenHelper.ts","../../scripts/Services/SpriteHelper.ts","../../scripts/Services/TtsManager.ts","../../scripts/Services/TtsProvider.ts"],"names":["ExtraMedia","ExtraMedia.constructor","ExtraMedia.Preload","PhaserGame","PhaserGame.constructor","PhaserGame.Init","PhaserGame.Start","PhaserGame.Preload","PhaserGame.Create","PhaserGame.createBackgroundImage","PhaserGame.Render","PhaserGame.Update","Menu","Menu.constructor","Menu.Create","RequestHelper","RequestHelper.constructor","PictureKeys","PictureKeys.constructor","PictureKeys.Instance","PictureKeys.Keys","State","State.constructor","State.Keys","State.CurrentKey","State.RegisterOnMoveNext","State.RegisterOnValidAnswer","State.RegisterOnInvalidAnswer","State.RegisterOnStart","State.RegisterOnFinish","State.Update","State.CollidablesNotification","State.Start","Application","Application.Application","Application.Application.constructor","KeyEntity","KeyEntity.constructor","SpriteEntity","SpriteEntity.constructor","SpriteEntity.Dispose","Box","Box.constructor","Box.GetCollidableRect","Box.Collide","GroupEntity","GroupEntity.constructor","GroupEntity.Dispose","Picture","Picture.constructor","Picture.Update","Picture.GetCollidableRect","Picture.Collide","Picture.Dispose","PictureHud","PictureHud.constructor","Star","Star.constructor","BoxManager","BoxManager.constructor","BoxManager.Preload","BoxManager.GetCollidables","CollidableManager","CollidableManager.constructor","CollidableManager.Update","CollidableManager.RegisterProvider","DeviceHelper","DeviceHelper.constructor","HudManager","HudManager.constructor","HudManager.Preload","HudManager.GenerateHud","HudManager.SetScore","HudManager.SetPictureName","ImageProvider","ImageProvider.constructor","PictureManager","PictureManager.constructor","PictureManager.GeneratePictures","PictureManager.GetPreloadDynamicCount","PictureManager.GetCollidables","PictureManager.PreloadDynamic","PictureManager.RemovePicture","PictureManager.MovePictureToLastPosition","PictureManager.Preload","PreloadDynamicManager","PreloadDynamicManager.constructor","PreloadDynamicManager.PreloadDynamicFor","PreloadDynamicManager.RegisterPreloadDynamic","ScreenHelper","ScreenHelper.constructor","SpriteHelper","SpriteHelper.constructor","TtsManager","TtsManager.constructor","TtsManager.Preload","TtsManager.PlayAudio","TtsProvider","TtsProvider.constructor","TtsProvider.GetAudioUrl"],"mappings":"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A,CAACA,IAAOA,KAAIA,CAACA,cAAcA,CAACA,yBAAyBA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;QACjGA,IAAIA,CAACA,KAAKA,CAACA,qBAAqBA,CAACA,UAACA,CAACA,EAAEA,CAACA,IAAOA,KAAIA,CAACA,UAAUA,CAACA,QAAQA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;QAC7EA,IAAIA,CAACA,KAAKA,CAACA,uBAAuBA,CAACA,UAACA,CAACA,EAAEA,CAACA,IAAOA,KAAIA,CAACA,UAAUA,CAACA,QAAQA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;QAC/EA,IAAIA,CAACA,KAAKA,CAACA,eAAeA,CAACA,UAACA,GAAGA,IAAOA,KAAIA,CAACA,UAAUA,CAACA,SAASA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;QACzEA,IAAIA,CAACA,KAAKA,CAACA,kBAAkBA,CAACA,UAACA,GAAGA,IAAOA,KAAIA,CAACA,UAAUA,CAACA,SAASA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;QAC5EA,IAAIA,CAACA,KAAKA,CAACA,eAAeA,CAACA,UAACA,GAAGA,IAAOA,KAAIA,CAACA,UAAUA,CAACA,cAAcA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;QAC9EA,IAAIA,CAACA,KAAKA,CAACA,kBAAkBA,CAACA,UAACA,GAAGA,IAAOA,KAAIA,CAACA,UAAUA,CAACA,cAAcA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA,CAACA,CAACA;QACjFA,IAAIA,CAACA,KAAKA,CAACA,gBAAgBA,CAACA,UAACA,CAACA;YAC1BA,IAAIA,QAAQA,GAAGA,IAAIA,WAAWA,EAAEA,CAACA;YACjCA,IAAIA,GAAGA,GAAGA,QAAQA,CAACA,WAAWA,CAACA,uBAAuBA,GAAGA,MAAMA,CAACA,CAACA,CAACA,GAAGA,UAAUA,CAACA,CAACA;YACjFA,IAAIA,KAAKA,GAAG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","sourcesContent":["class ExtraMedia implements IPreload {\r\n    private infiniteLoop: boolean;\r\n    private status : number;\r\n    public Media : Media;\r\n    private mediaLoaded : boolean;\r\n\r\n    constructor(src: string, successCallback: () => void, errorCallback?: () => void, statusCallback?: (status?) => void, infiniteLoop?: boolean) {\r\n        this.infiniteLoop = infiniteLoop;\r\n\r\n        if (src.slice(0, \"http\".length) !== \"http\" && src.slice(0, \"www\".length) !== \"www\")\r\n            src = (DeviceHelper.IsWindows() ? \"ms-appx://io.cordova.myapp81c339/www/\" : \"file:///android_asset/www/\") + src;\r\n\r\n        this.Media = new Media(src, successCallback, errorCallback, (status: number) => {\r\n            this.changeStatus(status);\r\n\r\n            this.tryInfiniteLoop();\r\n\r\n            if(!!statusCallback)\r\n                statusCallback(status);\r\n        });\r\n    }\r\n\r\n    private tryInfiniteLoop = () => {\r\n        if (this.infiniteLoop && this.status === Media.MEDIA_STOPPED)\r\n            this.Media.play();\r\n    }\r\n\r\n    private changeStatus = (status: number) => {\r\n        this.status = status;\r\n    }\r\n\r\n    public Replay = () : void => {\r\n        if (this.status === Media.MEDIA_STARTING ||\r\n            this.status === Media.MEDIA_RUNNING ||\r\n            this.status === Media.MEDIA_PAUSED)\r\n            this.Media.stop();\r\n\r\n        this.Media.play();\r\n    }\r\n\r\n    Preload(): void {\r\n        if (this.mediaLoaded)\r\n            return;\r\n\r\n        this.Media.setVolume(0.001);\r\n        this.Media.play();\r\n        this.Media.setVolume(1);\r\n    }\r\n}","class PhaserGame {\r\n    public Phaser: Phaser.Game;\r\n    public PictureManager: IPictureManager;\r\n    public TtsManager: ITtsManager;\r\n    public BoxManager: IBoxManager;\r\n    public PreloadDynamicManager: IPreloadDynamicManager;\r\n    public HudManager: IHudManager;\r\n    public State: IState;\r\n    public IsStarted = false;\r\n\r\n    private menu: Menu;\r\n    private backgroundBellsMusic: ExtraMedia;\r\n    private backgroundImage: Phaser.Sprite;\r\n    private collidableManager: IColidableManager;\r\n\r\n    public Init(): void {\r\n        this.Phaser = new Phaser.Game(ScreenHelper.GetScreenWidth(), ScreenHelper.GetScreenHeight(), Phaser.AUTO, \"content\", { preload: () => { this.Preload(); }, create: () => { this.Create(); }, update: () => { this.Update(); }, render: () => { this.Render(); } }, null, true, null);\r\n    }\r\n\r\n    public Start(): void {\r\n        this.State.Generate(10);\r\n\r\n        var boxSprite = this.BoxManager.GenerateBox();\r\n        var hudRects = this.HudManager.GenerateHud();\r\n        let excludeRects = Enumerable.From(hudRects).Union([SpriteHelper.GetSpriteRectangle(boxSprite)]).ToArray();\r\n        this.PictureManager.GeneratePictures(this.State.Keys(), excludeRects);\r\n\r\n        this.State.Start();\r\n        this.IsStarted = true;\r\n    }\r\n\r\n    public Preload(): void {\r\n        this.backgroundBellsMusic = new ExtraMedia(\"audio/christmasBell.mp3\", null, null, null, true);\r\n        this.backgroundBellsMusic.Media.setVolume(0.15);\r\n        this.backgroundBellsMusic.Media.play();\r\n        this.backgroundBellsMusic.Media.setVolume(0.15);\r\n\r\n        this.TtsManager = new TtsManager(this);\r\n        this.TtsManager.Preload();\r\n        this.BoxManager = new BoxManager(this);\r\n        this.BoxManager.Preload();\r\n        this.HudManager = new HudManager(this);\r\n        this.HudManager.Preload();\r\n\r\n        this.menu = new Menu(this);\r\n        this.PictureManager = new PictureManager(this);\r\n        this.PictureManager.Preload();\r\n        this.collidableManager = new CollidableManager();\r\n        this.PreloadDynamicManager = new PreloadDynamicManager(this);\r\n        this.State = new State(this);\r\n        \r\n        this.Phaser.load.image(\"gameBackground\", \"images/gameBackground.jpg\");\r\n\r\n        this.collidableManager.RegisterProvider(this.PictureManager);\r\n        this.collidableManager.RegisterProvider(this.BoxManager);\r\n        this.collidableManager.RegisterCollidableListener(this.State);\r\n        this.PreloadDynamicManager.RegisterPreloadDynamic(this.PictureManager);\r\n        this.State.RegisterOnValidAnswer((p) => { this.PictureManager.RemovePicture(p); });\r\n        this.State.RegisterOnInvalidAnswer((p) => { this.PictureManager.MovePictureToLastPosition(p); });\r\n        this.State.RegisterOnValidAnswer((p, s) => { this.HudManager.SetScore(s); });\r\n        this.State.RegisterOnInvalidAnswer((p, s) => { this.HudManager.SetScore(s); });\r\n        this.State.RegisterOnStart((key) => { this.TtsManager.PlayAudio(key); });\r\n        this.State.RegisterOnMoveNext((key) => { this.TtsManager.PlayAudio(key); });\r\n        this.State.RegisterOnStart((key) => { this.HudManager.SetPictureName(key); });\r\n        this.State.RegisterOnMoveNext((key) => { this.HudManager.SetPictureName(key); });\r\n        this.State.RegisterOnFinish((s) => {\r\n            var provider = new TtsProvider();\r\n            var url = provider.GetAudioUrl(\"Gratulacje! Zdobyłeś \" + String(s) + \"punktów!\");\r\n            var media = new ExtraMedia(url, null, null, (status) => {\r\n                if (status === Media.MEDIA_STOPPED) {\r\n                    this.IsStarted = false;\r\n                    this.menu.Show();\r\n                }\r\n            }, false);\r\n            media.Replay();\r\n        });\r\n    }\r\n\r\n    public Create(): void {\r\n        this.Phaser.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\r\n\r\n        this.createBackgroundImage();\r\n        this.menu.Create();\r\n\r\n        if (!DeviceHelper.IsWindows())\r\n            this.setOnPauseAndResume();\r\n\r\n        this.menu.Show();\r\n    }\r\n\r\n    private setOnPauseAndResume = () => {\r\n        document.addEventListener(\"pause\", () => {\r\n            this.backgroundBellsMusic.Media.pause();\r\n        }, false);\r\n        document.addEventListener(\"resume\", () => {\r\n            this.backgroundBellsMusic.Media.play();\r\n        }, false);\r\n    }\r\n\r\n    private createBackgroundImage(): void {\r\n        this.backgroundImage = this.Phaser.add.sprite(0, 0, \"gameBackground\");\r\n        this.backgroundImage.inputEnabled = true;\r\n        this.backgroundImage.scale.setTo(ScreenHelper.GetScreenWidth() / this.backgroundImage.width, ScreenHelper.GetScreenHeight() / this.backgroundImage.height);\r\n    }\r\n\r\n    public Render() {\r\n    }\r\n\r\n    public Update() {\r\n        this.menu.Update();\r\n        this.PictureManager.Update();\r\n        this.collidableManager.Update();\r\n    }\r\n}\r\n\r\n\r\n        //var musicFile = new Media(\"http://translate.google.com/translate_tts?ie=UTF-8&total=1&idx=0&textlen=32&client=tw-ob&q=%C5%BBryj%20o%C5%82%C3%B3w%20suko&tl=Pl-pl\", null, null);\r\n        //var musicFile = new Media(\"ms-appdata:///www/audio/theme.mp3\", null, null);\r\n\r\n\r\n            //    private emit(pointer : Phaser.Particles.Arcade.Emitter) {\r\n        //        //  Position the emitter where the mouse/touch event was\r\n        //        this.emitter.x = pointer.x;\r\n        //        this.emitter.y = pointer.y;\r\n\r\n        //        //  The first parameter sets the effect to \"explode\" which means all particles are emitted at once\r\n        //        //  The second gives each particle a 2000ms lifespan\r\n        //        //  The third is ignored when using burst/explode mode\r\n        //        //  The final parameter (10) is how many particles will be emitted in this single burst\r\n        //        this.emitter.start(false, 2000, null, 10);\r\n        //    }\r\n    \r\n        //        this.Phaser.physics.startSystem(Phaser.Physics.ARCADE);\r\n        //this.emitter = this.Phaser.add.emitter(0, 0, 100);\r\n        //this.emitter.makeParticles(\"jajo\");\r\n        //this.emitter.gravity = 200;\r\n        //this.emitter.minParticleScale = 0.05;\r\n        //this.emitter.maxParticleScale = 0.1;\r\n        //this.Phaser.input.onDown.add((pointer) => { this.emit(pointer); }, this.Phaser);","/// <reference path=\"../www/scripts/typings/phaser.d.ts\" />\r\n/// <reference path=\"./typings/jquery.d.ts\" />\r\n\r\nclass Menu implements ICreate, IUpdatable\r\n{\r\n    private game: PhaserGame;\r\n\r\n    private $menuScreen: JQuery;\r\n    private $resumeButton: JQuery;\r\n    private $startButton: JQuery;\r\n    private $quitButton: JQuery;\r\n    \r\n    private spaceKey : Phaser.Key;\r\n\r\n    constructor(game: PhaserGame) {\r\n        this.game = game;\r\n\r\n        this.$menuScreen = $(\"#menuScreen\");\r\n\r\n        this.$startButton = $(\"#startButton\");\r\n        this.$startButton.on(\"click\", () => { this.onStartButtonClick(); });\r\n\r\n        this.$quitButton = $(\"#quitButton\");\r\n        this.$quitButton.on(\"click\", () => { this.onQuitButtonClick(); });\r\n\r\n        this.$resumeButton = $(\"#resumeButton\");\r\n        this.$resumeButton.on(\"click\", () => { this.onResumeButtonClick(); });\r\n    }\r\n\r\n    public Show = () => {\r\n        this.game.Phaser.paused = true;\r\n\r\n        if (this.game.IsStarted)\r\n            this.$resumeButton.show();\r\n        else\r\n            this.$resumeButton.hide();\r\n        \r\n        this.$menuScreen.show();\r\n    }\r\n    \r\n    public Hide = () => {\r\n        this.$menuScreen.hide();\r\n\r\n        this.game.Phaser.paused = false;\r\n    }\r\n\r\n    public Create(): void {\r\n        this.setBackButton();\r\n    }\r\n    \r\n    private setBackButton = () => {\r\n        if (DeviceHelper.IsWindows()) {\r\n            this.spaceKey = this.game.Phaser.input.keyboard.addKey(Phaser.Keyboard.ESC);\r\n        } else {\r\n            document.addEventListener(\"backbutton\", () => {\r\n               this.onBackButton();\r\n            }, false);\r\n        }\r\n    }\r\n\r\n    private onBackButton = () => {\r\n        if (!this.game.Phaser.paused) {\r\n            this.Show();\r\n        } else {\r\n            //window.close();\r\n        }\r\n    }\r\n    \r\n    private onStartButtonClick = () => {\r\n        if (!this.game.Phaser.paused)\r\n            return;\r\n        \r\n        this.game.PreloadDynamicManager.PreloadDynamicFor(() => {\r\n            this.game.Start();\r\n            this.Hide();\r\n        });\r\n    }\r\n\r\n    private onResumeButtonClick = () => {\r\n        if (!this.game.Phaser.paused)\r\n            return;\r\n\r\n        this.Hide();\r\n    }\r\n    \r\n    private onQuitButtonClick = () => {\r\n        window.close();\r\n    }\r\n\r\n    public Update = (): void => {\r\n        if (this.spaceKey != null && this.spaceKey.isDown)\r\n            this.onBackButton();\r\n    }\r\n}","class RequestHelper {\r\n    static Get = (url : string) => {\r\n        var httpreq = new XMLHttpRequest();\r\n        httpreq.open(\"GET\", url, false);\r\n        httpreq.send(null);\r\n        return httpreq.responseText;\r\n    }\r\n}","/// <reference path=\"../www/scripts/typings/phaser.d.ts\" />\r\n/// <reference path=\"./Services/RequestHelper.ts\" />\r\n\r\nclass PictureKeys {\r\n    private static instance = new PictureKeys();\r\n\r\n    private keys: Array<string>;\r\n\r\n    constructor() {\r\n        this.keys = JSON.parse(RequestHelper.Get(\"http://www.orzechservices.aspnet.pl/picturekey\"));\r\n    }\r\n\r\n    static get Instance(): PictureKeys {\r\n        return this.instance;\r\n    }\r\n\r\n    get Keys(): string[] {\r\n        return this.keys;\r\n    }\r\n}","interface IState extends IUpdatable, ICollidableListener  {\r\n    Generate(count: number);\r\n    Start();\r\n    RegisterOnStart(action: Function);\r\n    RegisterOnFinish(action: Function);\r\n    RegisterOnMoveNext(action: Function);\r\n    RegisterOnValidAnswer(action: Function);\r\n    RegisterOnInvalidAnswer(action: Function);\r\n    Keys(): string[];\r\n    CurrentKey(): string;\r\n}\r\n\r\nclass State implements IState {\r\n    private game: PhaserGame;\r\n    private keys : Array<string>;\r\n    private onMoveNextActions : Array<Function>;\r\n    private onValidAnswerActions : Array<Function>;\r\n    private onInvalidAnswerActions: Array<Function>;\r\n    private onStartActions: Array<Function>;\r\n    private onFinishActions: Array<Function>;\r\n    private isStarted = false;\r\n    private score = 0;\r\n\r\n    constructor(game: PhaserGame) {\r\n        this.game = game;\r\n        this.keys = [];\r\n        this.onMoveNextActions = [];\r\n        this.onValidAnswerActions = [];\r\n        this.onInvalidAnswerActions = [];\r\n        this.onStartActions = [];\r\n        this.onFinishActions = [];\r\n    }\r\n\r\n    public Generate = (count: number) => {\r\n        this.isStarted = false;\r\n        this.keys = [];\r\n        this.score = 0;\r\n\r\n        var keys = PictureKeys.Instance.Keys;\r\n        var generatedKeys = [];\r\n\r\n        while (generatedKeys.length < count) {\r\n            var keysMinusGenerated = Enumerable.From(keys).Except(generatedKeys).ToArray();\r\n\r\n            var tmpKeys = keysMinusGenerated.length > 0 ? keysMinusGenerated : keys;\r\n            var tmpKey = tmpKeys[this.game.Phaser.rnd.integerInRange(0, tmpKeys.length - 1)];\r\n            if (generatedKeys.length > 1 && tmpKey === generatedKeys[generatedKeys.length - 1])\r\n                continue;\r\n\r\n            generatedKeys.push(tmpKey);\r\n        }\r\n\r\n        this.keys = generatedKeys;\r\n    }\r\n    \r\n    public Keys(): string[] {\r\n        return this.keys;\r\n    }\r\n\r\n    public CurrentKey(): string {\r\n        if (this.keys.length === 0)\r\n            return null;\r\n\r\n        return this.keys[0];\r\n    }\r\n\r\n    private moveNext = () => {\r\n        if (this.keys.length > 0)\r\n            this.keys.shift();\r\n        \r\n        if (this.keys.length === 0) {\r\n            for (let i in this.onFinishActions)\r\n                this.onFinishActions[i](this.score);\r\n\r\n            return;\r\n        }\r\n        \r\n\r\n        for (let i in this.onMoveNextActions)\r\n            this.onMoveNextActions[i](this.CurrentKey());\r\n    }\r\n\r\n    public RegisterOnMoveNext(action: Function) {\r\n        this.onMoveNextActions.push(action);\r\n    }\r\n\r\n    public RegisterOnValidAnswer(action: Function) {\r\n        this.onValidAnswerActions.push(action);\r\n    }\r\n\r\n    public RegisterOnInvalidAnswer(action: Function) {\r\n        this.onInvalidAnswerActions.push(action);\r\n    }\r\n    \r\n    public RegisterOnStart(action: Function) {\r\n        this.onStartActions.push(action);\r\n    }\r\n\r\n    public RegisterOnFinish(action: Function) {\r\n        this.onFinishActions.push(action);\r\n    }\r\n\r\n    Update(): void {}\r\n\r\n    CollidablesNotification(pairs: ICollidableTuple[]) {\r\n        var boxPictureCollides = Enumerable.From(pairs)\r\n            .Where(p =>\r\n                (p.Collidable1 instanceof Box && p.Collidable2 instanceof Picture) ||\r\n                (p.Collidable1 instanceof Picture && p.Collidable2 instanceof Box))\r\n            .Select(p => ({\r\n                box: p.Collidable1 instanceof Box ? p.Collidable1 : p.Collidable2,\r\n                picture: p.Collidable1 instanceof Picture ? p.Collidable1 : p.Collidable2\r\n            }))\r\n            .ToArray();\r\n\r\n        for (let i in boxPictureCollides) {\r\n            let boxPicture = boxPictureCollides[i];\r\n            var picture = boxPicture.picture as Picture;\r\n\r\n            if (picture.Droped) {\r\n                if (picture.Key === this.CurrentKey()) {\r\n                    this.score++;\r\n\r\n                    for (let j in this.onValidAnswerActions)\r\n                        this.onValidAnswerActions[j](picture, this.score);\r\n                        \r\n                    this.moveNext();\r\n                } else {\r\n                    this.score--;\r\n\r\n                    for (let k in this.onInvalidAnswerActions)\r\n                        this.onInvalidAnswerActions[k](picture, this.score);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public Start() {\r\n        if (this.isStarted)\r\n            return;\r\n            \r\n        for (let i in this.onStartActions)\r\n            this.onStartActions[i](this.CurrentKey());\r\n\r\n        this.isStarted = true;\r\n    }\r\n}","// For an introduction to the Blank template, see the following documentation:\r\n// http://go.microsoft.com/fwlink/?LinkID=397705\r\n// To debug code on page load in Ripple or on Android devices/emulators: launch your app, set breakpoints, \r\n// and then run \"window.location.reload()\" in the JavaScript Console.\r\n\r\n\r\n/// <reference path=\"Game.ts\" />\r\nmodule Application {\r\n    \"use strict\";\r\n\r\n    class Application {\r\n        public Init = () => {\r\n            document.addEventListener(\"deviceready\", this.onDeviceReady, false);\r\n        }\r\n\r\n        private onDeviceReady = () => {\r\n            var game = new PhaserGame();\r\n            game.Init();\r\n        }\r\n    }\r\n\r\n    window.onload = () => {\r\n        var app = new Application();\r\n        app.Init();\r\n    }\r\n}\r\n","class KeyEntity {\r\n    public Key: string;\r\n\r\n    constructor(key: string) {\r\n        this.Key = key;\r\n    }\r\n}","/// <reference path=\"KeyEntity.ts\" />\r\n\r\nclass SpriteEntity extends KeyEntity implements IDisposable {\r\n    protected Sprite: Phaser.Sprite;\r\n    public Droped = true;\r\n    public LastDragPosition: Phaser.Point;\r\n\r\n    constructor(group: Phaser.Group, x: number, y: number, key: string) {\r\n        super(key);\r\n\r\n        this.Sprite = group.create(x, y, key);\r\n        this.LastDragPosition = new Phaser.Point(x, y);\r\n        \r\n        this.Sprite.events.onDragStart.add((sprite) => {\r\n            this.LastDragPosition = new Phaser.Point(sprite.x, sprite.y);\r\n            this.Droped = false;\r\n        });\r\n        this.Sprite.events.onDragStop.add(() => {\r\n            this.Droped = true;\r\n        });\r\n    }\r\n\r\n    public GetSprite = (): Phaser.Sprite => {\r\n        return this.Sprite;\r\n    }\r\n\r\n    public GetRect = (): Phaser.Rectangle => {\r\n        return SpriteHelper.GetSpriteRectangle(this.Sprite);\r\n    }\r\n\r\n    public DestroySprite = () => {\r\n        if (this.Sprite != null)\r\n            this.Sprite.destroy(true);\r\n\r\n        this.Sprite = null;\r\n    }\r\n\r\n    public Dispose() {\r\n        if (this.Sprite != null)\r\n            this.Sprite.destroy(true);\r\n    }\r\n}\r\n","/// <reference path=\"SpriteEntity.ts\" />\r\n\r\nclass Box extends SpriteEntity implements ICollidable {\r\n    GetCollidableRect(): Phaser.Rectangle { return this.GetRect(); }\r\n\r\n    Collide(otherCollidable: ICollidable) {\r\n    }\r\n}","/// <reference path=\"KeyEntity.ts\" />\r\n\r\nclass GroupEntity extends KeyEntity implements IDisposable {\r\n    protected Group : Phaser.Group;\r\n    protected ObjectFactory: Phaser.GameObjectFactory;\r\n\r\n    constructor(key : string, objectFactory : Phaser.GameObjectFactory, lazyGroupInit : boolean) {\r\n        super(key);\r\n        \r\n        this.ObjectFactory = objectFactory;\r\n\r\n        if(!lazyGroupInit)\r\n            this.Group = objectFactory.group();\r\n    }\r\n    \r\n    public DestroyGroup = () => {\r\n        if (this.Group != null)\r\n            this.Group.destroy(true);\r\n\r\n        this.Group = null;\r\n    }\r\n\r\n\r\n    public CreateGroup = () => {\r\n        if (this.Group != null)\r\n            return;\r\n\r\n        this.Group = this.ObjectFactory.group();\r\n    }\r\n\r\n    public RecreateGroup = () => {\r\n        this.DestroyGroup();\r\n        this.CreateGroup();\r\n    }\r\n\r\n    Dispose() {\r\n        if (this.Group != null)\r\n            this.Group.destroy(true);\r\n    }\r\n}","class Picture extends SpriteEntity implements ICollidable, IUpdatable, IDisposable {\r\n    private hud: PictureHud;\r\n\r\n    constructor(group: Phaser.Group, x: number, y: number, key: string, dragAudio?: ExtraMedia, dropAudio?: ExtraMedia) {\r\n        super(group, x, y, key);\r\n        \r\n        this.Sprite.inputEnabled = true;\r\n        this.Sprite.input.enableDrag();\r\n        this.Sprite.input.boundsRect = ScreenHelper.GetScreenRectangle();\r\n        ScreenHelper.ScaleByScreenWidth(this.Sprite, 0.1);\r\n        \r\n        if(dragAudio != null)\r\n            this.Sprite.events.onDragStart.add(() => {\r\n                dragAudio.Replay();;\r\n            });\r\n        if (dropAudio != null)\r\n            this.Sprite.events.onDragStop.add(() => {\r\n                dropAudio.Replay();\r\n            });\r\n    }\r\n\r\n    public EnableHud = (key: string, factory : Phaser.GameObjectFactory) => {\r\n        if (this.hud != null)\r\n            return;\r\n\r\n        this.hud = new PictureHud(this, key, factory);\r\n    }\r\n\r\n    public Update(): void {\r\n        if (this.hud != null)\r\n            this.hud.Update();\r\n\r\n        this.Sprite.tint = 16777215;\r\n    }\r\n\r\n    public GetCollidableRect(): Phaser.Rectangle {\r\n        return this.GetRect();\r\n    }\r\n\r\n    public Collide(otherCollidable: ICollidable) {\r\n        if (otherCollidable instanceof Box)\r\n            this.Sprite.tint = Math.random() * 0xffffff;\r\n    }\r\n\r\n    public Dispose() {\r\n        if (this.hud != null)\r\n            this.hud.Dispose();\r\n\r\n        this.Droped = false;\r\n\r\n        super.Dispose();\r\n    }\r\n}","class PictureHud extends GroupEntity implements IUpdatable {\r\n    private picture: Picture;\r\n    private angle : number;\r\n\r\n    constructor(picture: Picture, key: string, objectFactory: Phaser.GameObjectFactory) {\r\n        super(key, objectFactory, true);\r\n        \r\n        this.picture = picture;\r\n        this.angle = 0;\r\n        \r\n        this.picture.GetSprite().events.onDragStart.add(() => {\r\n            this.onPictureDragStart();\r\n        });\r\n        this.picture.GetSprite().events.onDragStop.add(() => {\r\n            this.onPictureDragStop();\r\n        });\r\n    }\r\n\r\n    private onPictureDragStart = () => {\r\n        this.DestroyGroup();\r\n\r\n        this.Group = this.ObjectFactory.group();\r\n\r\n        let pictureSprite = this.picture.GetSprite();\r\n\r\n        let r = Math.sqrt(Math.pow(pictureSprite.width / 2, 2) + Math.pow(pictureSprite.height / 2, 2));\r\n\r\n        let counter = 10;\r\n        for (let angle = 0; angle < 2 * 3.14; angle += 0.01) {\r\n            counter++;\r\n\r\n            if (counter % 30 !== 0)\r\n                continue;\r\n\r\n            let hudSprite = this.Group.create(pictureSprite.x, pictureSprite.y, this.Key);\r\n            ScreenHelper.ScaleByScreenWidth(hudSprite, 0.01);\r\n            hudSprite.x = pictureSprite.centerX + r * Math.cos(angle);\r\n            hudSprite.y = pictureSprite.centerY + r * Math.sin(angle);\r\n        }\r\n    }\r\n\r\n    private onPictureDragStop = () => {\r\n        this.angle = 0;\r\n        this.DestroyGroup();\r\n    }\r\n\r\n    public Update = () =>\r\n    {\r\n        if (this.Group != null) {\r\n            let pictureSprite = this.picture.GetSprite();\r\n\r\n            this.Group.centerX = pictureSprite.centerX;\r\n            this.Group.centerY = pictureSprite.centerY;\r\n\r\n            let r = Math.sqrt(Math.pow(pictureSprite.width / 2, 2) + Math.pow(pictureSprite.height / 2, 2));\r\n\r\n            let counter = 10;\r\n            let spriteIndex = 0;\r\n\r\n            for (let angle = 0; angle < 2 * 3.14; angle += 0.01) {\r\n                counter++;\r\n\r\n                if (counter % 30 !== 0)\r\n                    continue;\r\n\r\n                let child = this.Group.children[spriteIndex];\r\n                child.x = pictureSprite.centerX + r * Math.cos(angle + this.angle);\r\n                child.y = pictureSprite.centerY + r * Math.sin(angle + this.angle);\r\n\r\n                spriteIndex++;\r\n            }\r\n\r\n            this.angle += 0.01;\r\n        }\r\n    }\r\n}","/// <reference path=\"SpriteEntity.ts\" />\r\n\r\nclass Star extends SpriteEntity{\r\n}","interface Map<T> {\r\n    [K: string]: T;\r\n}","interface ICollidableProvider {\r\n    GetCollidables() : Array<ICollidable>;\r\n}\r\n\r\ninterface ICollidable {\r\n    GetCollidableRect(): Phaser.Rectangle;\r\n    Collide(otherCollidable : ICollidable);\r\n}\r\n\r\ninterface IPreloadDynamic {\r\n    GetPreloadDynamicCount() : number;\r\n    PreloadDynamic();\r\n}\r\n\r\ninterface IDisposable {\r\n    Dispose();\r\n}\r\n\r\ninterface ICollidableTuple {\r\n    Collidable1 : ICollidable;   \r\n    Collidable2 : ICollidable;  \r\n}\r\n\r\ninterface ICollidableListener {\r\n    CollidablesNotification(pairs : Array<ICollidableTuple>)\r\n}","interface ICreate {\r\n    Create(): void;\r\n}\r\n\r\ninterface IPreload {\r\n    Preload(): void;\r\n}\r\n\r\ninterface IUpdatable {\r\n    Update(): void;\r\n}","/// <reference path=\"../Entities/GroupEntity.ts\" />\r\n\r\ninterface IBoxManager extends ICollidableProvider, IPreload {\r\n    GenerateBox() : Phaser.Sprite;\r\n}\r\n\r\nclass BoxManager extends GroupEntity implements IBoxManager\r\n{\r\n    private game: PhaserGame;\r\n    private box : Box;\r\n\r\n    constructor(game: PhaserGame) {\r\n        super(\"boxbox\", game.Phaser.add, false);\r\n\r\n         this.game = game;\r\n    }\r\n\r\n    public Preload(): void {\r\n        this.game.Phaser.load.image(this.Key, \"images/box.png\");\r\n    }\r\n\r\n    public GenerateBox = () : Phaser.Sprite => {\r\n        this.RecreateGroup();\r\n\r\n        this.box = new Box(this.Group, 0, 0, this.Key);\r\n        this.box.GetSprite().inputEnabled = true;\r\n        ScreenHelper.ScaleByScreenWidth(this.box.GetSprite(), 0.3);\r\n\r\n        this.box.GetSprite().centerX = ScreenHelper.GetScreenWidth() / 2;\r\n        this.box.GetSprite().centerY = ScreenHelper.GetScreenHeight() - this.box.GetSprite().height / 2;\r\n\r\n        return this.box.GetSprite();\r\n    }\r\n\r\n    GetCollidables(): ICollidable[]\r\n    {\r\n         return [this.box];\r\n    }\r\n}","interface IColidableManager extends IUpdatable {\r\n    RegisterProvider(provider : ICollidableProvider);\r\n    RegisterCollidableListener(listener: ICollidableListener);\r\n}\r\n\r\nclass CollidableManager implements IColidableManager {\r\n    private providers: Array<ICollidableProvider>;\r\n    private collidableListeners: Array<ICollidableListener>;\r\n\r\n    constructor() {\r\n        this.providers = [];\r\n        this.collidableListeners = [];\r\n    }\r\n\r\n    public Update(): void {\r\n        var collidables = Enumerable.From<ICollidableProvider>(this.providers)\r\n            .SelectMany(p => p.GetCollidables())\r\n            .ToArray();\r\n\r\n        let pairs = new Array<ICollidableTuple>();\r\n\r\n        for (var i in collidables) {\r\n            let collidable1 = collidables[i];\r\n\r\n            for (var j in collidables) {\r\n                if (i === j)\r\n                    continue;\r\n\r\n                let collidable2 = collidables[j];\r\n\r\n                if (Phaser.Rectangle.intersects(collidable1.GetCollidableRect(), collidable2.GetCollidableRect())) {\r\n                    collidable1.Collide(collidable2);\r\n                    collidable2.Collide(collidable1);\r\n                    pairs.push({ Collidable1: collidable1, Collidable2: collidable2 });\r\n                }\r\n            }\r\n        }\r\n\r\n        for (let i in this.collidableListeners)\r\n            this.collidableListeners[i].CollidablesNotification(pairs);\r\n    }\r\n\r\n    public RegisterProvider(provider: ICollidableProvider): void {\r\n        this.providers.push(provider);\r\n    }\r\n\r\n    public RegisterCollidableListener = (listener: ICollidableListener) => {\r\n        this.collidableListeners.push(listener);\r\n    }\r\n}\r\n\r\n","class DeviceHelper {\r\n    static IsWindows = (): boolean => {\r\n        return device.platform === \"windows\";\r\n    }\r\n}","interface IHudManager extends IPreload {\r\n    GenerateHud(): Array<Phaser.Rectangle>;\r\n    SetScore(number : number);\r\n    SetPictureName(name : string);\r\n}\r\n\r\nclass HudManager extends GroupEntity implements IHudManager {\r\n    private game: PhaserGame;\r\n    private star: Star;\r\n    private graphics: Phaser.Graphics;\r\n    private scoreText: Phaser.Text;\r\n    private pictureNameText: Phaser.Text;\r\n    \r\n    private fontSize = DeviceHelper.IsWindows() ? \"32px\" : \"22px\"; \r\n\r\n    constructor(game : PhaserGame) {\r\n        super(\"\", game.Phaser.add, true);\r\n\r\n        this.game = game;\r\n    }\r\n\r\n    public Preload(): void {\r\n        this.game.Phaser.load.image(\"starstar\", \"images/star.png\");\r\n    }\r\n\r\n    public GenerateHud(): Array<Phaser.Rectangle> {\r\n        this.RecreateGroup();\r\n\r\n        let font = \"bold \" + this.fontSize + \" Arial\";\r\n        let margin = ScreenHelper.GetScreenHeight() / 20;\r\n        \r\n        this.star = new Star(this.Group, 0, 0, \"starstar\");\r\n        ScreenHelper.ScaleByScreenHeight(this.star.GetSprite(), 0.125);\r\n        this.star.GetSprite().centerX = (ScreenHelper.GetScreenWidth() - this.star.GetSprite().width / 2) - margin;\r\n        this.star.GetSprite().centerY = (this.star.GetSprite().height / 2) + margin;\r\n        \r\n        this.scoreText = this.game.Phaser.add.text(this.star.GetSprite().centerX, this.star.GetSprite().centerY, \"0\", { font: font, fill: \"white\", align: \"left\" }, this.Group);\r\n        this.scoreText.centerX = this.star.GetSprite().centerX;\r\n        this.scoreText.centerY = this.star.GetSprite().centerY + this.star.GetSprite().height / 10;\r\n\r\n        this.pictureNameText = this.game.Phaser.add.text(\r\n            0 + margin, 0 + margin, \"\", { font: font, fill: \"white\", wordWrap: true, wordWrapWidth: ScreenHelper.GetScreenWidth() / 4, align: \"center\", backgroundColor: \"#053272\" }, this.Group);\r\n\r\n        return [this.star.GetRect(), new Phaser.Rectangle(this.pictureNameText.x, this.pictureNameText.y, this.pictureNameText.width, this.pictureNameText.height)];\r\n    }\r\n\r\n    SetScore(number: number) {\r\n        this.scoreText.text = String(number);\r\n    }\r\n\r\n    SetPictureName(name: string) {\r\n        this.pictureNameText.text = name != null ? name.toUpperCase() : \"\";\r\n    }\r\n}","interface IImageProvider {\r\n    GetImageUrl(q: string, style?: string) : string;\r\n}\r\n\r\nclass ImageProvider implements IImageProvider {\r\n    public GetImageUrl = (q: string, style?: string) : string => {\r\n        return this.getFromIconFinder(q, style);\r\n        //return this.getFromImageStock(q);\r\n    }\r\n\r\n    private getFromIconFinder = (q: string, style?: string): string => {\r\n        var url = \"http://www.orzechservices.aspnet.pl/imageprovider/iconfinder?\";\r\n        //var url = \"http://localhost:3654/imageprovider/iconfinder?\";\r\n        url = url + \"q=\" + q;\r\n        if (!!style)\r\n            url = url + \"&style=\" + style;\r\n            \r\n        url = url + \"&stamp=\" + Date.now();\r\n\r\n        return url;\r\n    }\r\n\r\n    private getFromImageStock = (q : string) : string => {\r\n        var jsonObj = JSON.parse(RequestHelper.Get(\"http://testapi.bigstockphoto.com/2/883610/search/?q=\" + q));\r\n\r\n        var images = new Array<string>();\r\n        for (let i in jsonObj.data.images) {\r\n            const image = jsonObj.data.images[i].small_thumb.url;\r\n            images.push(image);\r\n        }\r\n\r\n        return images[0];\r\n    }\r\n}","interface IPictureManager extends ICollidableProvider, IPreloadDynamic, IUpdatable, IPreload {\r\n    GeneratePictures(keys: Array<string>, excludeRects?: Array<Phaser.Rectangle>): void;\r\n    RemovePicture(picture: Picture);\r\n    MovePictureToLastPosition(picture: Picture);\r\n}\r\n\r\ninterface IPictureTween {\r\n    Picture: Picture;\r\n    Tween : Phaser.Tween;\r\n}\r\n\r\nclass PictureManager extends GroupEntity implements IPictureManager\r\n{\r\n    private game: PhaserGame;\r\n    private imageProvider: IImageProvider;\r\n    private pictures: Array<Picture>;\r\n    private dragAudio : ExtraMedia;\r\n    private dropAudio : ExtraMedia;\r\n\r\n    private tweens: Array<IPictureTween>;\r\n    \r\n    constructor(game: PhaserGame) {\r\n        super(\"\", game.Phaser.add, true);\r\n\r\n        this.game = game;\r\n        this.imageProvider = new ImageProvider();\r\n        this.pictures = new Array<Picture>();\r\n        this.tweens = new Array<IPictureTween>();\r\n    }\r\n\r\n    public GeneratePictures(keys: Array<string>, excludeRects?: Array<Phaser.Rectangle>): void {\r\n        this.RecreateGroup();\r\n\r\n        this.Group.inputEnableChildren = true;\r\n        \r\n        var tempSprite: Phaser.Sprite = this.Group.create(0, 0, \"test\");\r\n        ScreenHelper.ScaleByScreenWidth(tempSprite, 0.1);\r\n\r\n        var rectangles = new Array<Phaser.Rectangle>();\r\n        while (rectangles.length < keys.length) {\r\n            let newRectangleX = this.game.Phaser.rnd.integerInRange(0, ScreenHelper.GetScreenWidth() - tempSprite.width);\r\n            let newRectangleY = this.game.Phaser.rnd.integerInRange(0, ScreenHelper.GetScreenHeight() - tempSprite.height);\r\n            let newRectangle = new Phaser.Rectangle(newRectangleX, newRectangleY, tempSprite.width, tempSprite.height);\r\n\r\n            let add = true;\r\n\r\n            add = this.tryAddRect(rectangles, newRectangle) &&\r\n                 (excludeRects == null || this.tryAddRect(excludeRects, newRectangle));\r\n\r\n            if (add)\r\n                rectangles.push(newRectangle);\r\n        }\r\n\r\n        this.Group.remove(tempSprite, true);\r\n\r\n        this.pictures = [];\r\n\r\n        for (let i in rectangles) {\r\n            let key = keys[i];\r\n            let rectangle = rectangles[i];\r\n            var picture = new Picture(this.Group, rectangle.x, rectangle.y, key, this.dragAudio, this.dropAudio);\r\n            this.pictures.push(picture);\r\n            picture.EnableHud(\"pictureHud\", this.game.Phaser.add);\r\n        }\r\n    }\r\n\r\n    private tryAddRect = (rectangles: Array<Phaser.Rectangle>, newRectangle: Phaser.Rectangle): boolean => {\r\n        let add = true;\r\n\r\n        for (let i in rectangles) {\r\n            let rectangle = rectangles[i];\r\n            if (Phaser.Rectangle.intersects(rectangle, newRectangle)) {\r\n                add = false;\r\n                break;\r\n            }\r\n\r\n            if (!ScreenHelper.GetScreenRectangle().containsRect(newRectangle)) {\r\n                add = false;\r\n                break;\r\n            }\r\n        }\r\n\r\n        return add;\r\n    }\r\n\r\n    public Update = (): void => {\r\n        if (this.pictures != null) {\r\n            for (let i in this.pictures) {\r\n                this.pictures[i].Update();\r\n            }\r\n        }\r\n    }\r\n\r\n    public GetPreloadDynamicCount(): number {\r\n         return PictureKeys.Instance.Keys.length + 2;\r\n    }\r\n    \r\n    public GetCollidables(): Array<ICollidable> {\r\n        return this.pictures;\r\n    }\r\n\r\n    public PreloadDynamic(): void {\r\n        for (let index in PictureKeys.Instance.Keys) {\r\n            let key = PictureKeys.Instance.Keys[index];\r\n            this.game.Phaser.load.image(key, this.imageProvider.GetImageUrl(key, \"3d\"));\r\n        };\r\n\r\n        this.game.Phaser.load.image(\"test\", \"images/test.png\");\r\n        this.game.Phaser.load.image(\"pictureHud\", \"images/pictureHud.png\");\r\n    }\r\n\r\n    public RemovePicture(picture: Picture) {\r\n        picture.Dispose();\r\n\r\n        this.Group.remove(picture.GetSprite(), true);\r\n\r\n        if (this.pictures.indexOf(picture) >= 0)\r\n            this.pictures.splice(this.pictures.indexOf(picture), 1);\r\n    }\r\n\r\n    public MovePictureToLastPosition(picture: Picture) {\r\n        if (Enumerable.From(this.tweens).Any(t => t.Picture === picture))\r\n            return;\r\n\r\n        picture.GetSprite().input.enabled = false;\r\n        picture.Droped = false;\r\n\r\n        let tween = this.game.Phaser.add.tween(picture.GetSprite());\r\n        tween.onComplete.add((sprite) => { this.onTweenComplete(sprite); });\r\n\r\n        this.tweens.push({ Picture: picture, Tween: tween });\r\n\r\n        tween.to({ x: picture.LastDragPosition.x, y: picture.LastDragPosition.y }, 1000);\r\n        tween.start();\r\n    }\r\n\r\n    private onTweenComplete = (sprite: Phaser.Sprite) => {\r\n        var tween = Enumerable.From(this.tweens)\r\n            .Select((t, i) => ({\r\n                Match: t.Picture.GetSprite() === sprite,\r\n                Picture: t.Picture,\r\n                Index: i\r\n            }))\r\n            .Where(t => t.Match)\r\n            .SingleOrDefault();\r\n\r\n        if (tween == null)\r\n            return;\r\n            \r\n        if (tween.Index >= 0) {\r\n            tween.Picture.GetSprite().input.enabled = true;\r\n            tween.Picture.Droped = false;\r\n            this.tweens.splice(tween.Index, 1);\r\n        }\r\n    }\r\n\r\n    Preload(): void {\r\n        this.dragAudio = new ExtraMedia(\"audio/drag.mp3\", null, null, null);\r\n        this.dropAudio = new ExtraMedia(\"audio/drop.mp3\", null, null, null);\r\n    }\r\n}","/// <reference path=\"../typings/jquery.d.ts\" />\r\n\r\ninterface IPreloadDynamicManager {\r\n    RegisterPreloadDynamic(preloadDynamic : IPreloadDynamic);\r\n    PreloadDynamicFor(action : Function);\r\n}\r\n\r\nclass PreloadDynamicManager implements IPreloadDynamicManager {\r\n    private game: PhaserGame;\r\n    private action: Function;\r\n    private preloadDynamics: Array<IPreloadDynamic>;\r\n    private loaded: number;\r\n    private $loadingScreen : JQuery;\r\n    private $progressbar : JQuery;\r\n\r\n    constructor(game : PhaserGame) {\r\n        this.game = game;\r\n        this.preloadDynamics = [];\r\n        this.$loadingScreen = $(\"#loadingScreen\");\r\n        this.$progressbar = $(\"#progressbar\");\r\n        this.$progressbar.progressbar({\r\n            value: 0\r\n        });\r\n    }\r\n\r\n    PreloadDynamicFor(action: Function) {\r\n        this.action = action;\r\n        this.loaded = 0;\r\n        this.$progressbar.progressbar({\r\n            value: 0\r\n        });\r\n\r\n        this.$loadingScreen.css(\"display\", \"table-cell\");\r\n        this.game.Phaser.load.onFileComplete.add(() => { this.onFileComplete(); });\r\n        this.game.Phaser.load.onLoadComplete.add(() => { this.onLoadComplete(); });\r\n\r\n\r\n        for (let i in this.preloadDynamics)\r\n            this.preloadDynamics[i].PreloadDynamic();\r\n\r\n        this.game.Phaser.load.start();\r\n    }\r\n\r\n    RegisterPreloadDynamic(preloadDynamic: IPreloadDynamic) {\r\n        this.preloadDynamics.push(preloadDynamic);\r\n    }\r\n\r\n    private onLoadComplete = () => {\r\n        this.game.Phaser.load.onFileComplete.removeAll();\r\n        this.game.Phaser.load.onLoadComplete.removeAll();\r\n\r\n        if (this.action != null) {\r\n            this.action();\r\n            this.action = null;\r\n        }\r\n\r\n        this.$loadingScreen.hide();\r\n    }\r\n\r\n    private onFileComplete = () => {\r\n        this.loaded++;\r\n        var toLoad = Enumerable.From(this.preloadDynamics).Select(d => d.GetPreloadDynamicCount()).Sum(c => c);\r\n\r\n        this.$progressbar.progressbar({\r\n            value: this.loaded / toLoad * 100\r\n        });\r\n    }\r\n}","class ScreenHelper {\r\n    static GetScreenWidth =() : number => {\r\n        return window.screen.width;\r\n    }\r\n\r\n    static GetScreenHeight = (): number => {\r\n        return window.screen.height;\r\n    }\r\n\r\n    static ScaleByScreenWidth = (sprite : PIXI.Sprite, scale : number) => {\r\n        if (scale < 0 || scale > 1)\r\n            throw \"ScaleByScreenWidth: ArgumentException\";\r\n            \r\n        var targetWidth = ScreenHelper.GetScreenWidth() * scale;\r\n        var targetScale = targetWidth / sprite.width;\r\n        sprite.scale.x = targetScale;\r\n        sprite.scale.y = targetScale;\r\n    }\r\n\r\n    static ScaleByScreenHeight = (sprite: PIXI.Sprite, scale: number) => {\r\n        if (scale < 0 || scale > 1)\r\n            throw \"ScaleByScreenWidth: ArgumentException\";\r\n\r\n        var targetHeight = ScreenHelper.GetScreenHeight() * scale;\r\n        var targetScale = targetHeight / sprite.height;\r\n        sprite.scale.x = targetScale;\r\n        sprite.scale.y = targetScale;\r\n    }\r\n    \r\n    static GetScreenRectangle = (): Phaser.Rectangle => {\r\n        return new Phaser.Rectangle(0, 0, ScreenHelper.GetScreenWidth(), ScreenHelper.GetScreenHeight());\r\n    }\r\n}","class SpriteHelper {\r\n    static GetSpriteRectangle = (sprite : Phaser.Sprite): Phaser.Rectangle => {\r\n        return new Phaser.Rectangle(sprite.x, sprite.y, sprite.width, sprite.height);\r\n    }\r\n}","interface ITtsManager extends IPreload {\r\n    PlayAudio(sentence : string): void;\r\n}\r\n\r\nclass TtsManager implements ITtsManager {\r\n    private game: PhaserGame;\r\n    private ttsProvider: ITtsProvider;\r\n    private mediaMap: Map<ExtraMedia>;\r\n\r\n    constructor(game: PhaserGame) {\r\n        this.game = game;\r\n        this.ttsProvider = new TtsProvider();\r\n        this.mediaMap = {};\r\n    }\r\n\r\n    public Preload(): void {\r\n        for (let index in PictureKeys.Instance.Keys) {\r\n            let key = PictureKeys.Instance.Keys[index];\r\n            this.mediaMap[key] = new ExtraMedia(this.ttsProvider.GetAudioUrl(key), null, null, null);\r\n            this.mediaMap[key].Preload();\r\n        };\r\n    }\r\n\r\n    public PlayAudio(sentence: string): void {\r\n        if (sentence == null)\r\n            return;\r\n\r\n        var audio = this.mediaMap[sentence];\r\n        if (!audio)\r\n            return;\r\n\r\n        audio.Replay();\r\n    }\r\n}","interface ITtsProvider {\r\n    GetAudioUrl(sentence : string) : string;\r\n}\r\n\r\nclass TtsProvider implements ITtsProvider {\r\n    public GetAudioUrl(sentence: string): string {\r\n        return \"http://translate.google.com/translate_tts?ie=UTF-8&total=1&idx=0&textlen=32&client=tw-ob&q=\" + sentence + \"&tl=Pl-pl\";\r\n    }\r\n}"]}