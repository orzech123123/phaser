{"version":3,"file":"appBundle.js","sourceRoot":"","sources":["../../scripts/ImageProvider.ts","../../scripts/Game.ts","../../scripts/index.ts"],"names":["ImageProvider","ImageProvider.constructor","MySprite","MySprite.constructor","PhaserGame","PhaserGame.constructor","PhaserGame.preload","PhaserGame33","PhaserGame33.Application","PhaserGame33.Application.constructor"],"mappings":"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","sourcesContent":["\r\n\r\nclass ImageProvider {\r\n    GetImageUrl = (q: string, style?: string) : string => {\r\n        var url = \"http://localhost:3654/home/index?\";\r\n        url = url + \"q=\" + q;\r\n        if (!!style)\r\n            url = url + \"&style=\" + style;\r\n\r\n        return url;\r\n    }\r\n}","/// <reference path=\"../www/scripts/typings/phaser.d.ts\" />\r\n/// <reference path=\"ImageProvider.ts\" />\r\n\r\ninterface ICustomParams {\r\n    health?: number;\r\n    fun?: number;\r\n}\r\n\r\nclass MySprite {\r\n    constructor(object: Phaser.Sprite) {\r\n        this.object = object;\r\n    }\r\n\r\n    customParams: ICustomParams;\r\n    object: Phaser.Sprite;\r\n}\r\n\r\nclass PhaserGame {\r\n    private game: Phaser.Game;\r\n    private background: MySprite;\r\n    \r\n    private boxSprite : Phaser.Sprite;\r\n\r\n    constructor() {\r\n        this.game = new Phaser.Game(window.screen.width, window.screen.height, Phaser.AUTO, \"content\", { preload: () => { this.preload(); }, create: () => { this.create(); }, update: () => { this.update(); }, render: () => { this.render(); } });\r\n    }\r\n    \r\n    preload() {\r\n        var json_obj = JSON.parse(this.Get(\"http://testapi.bigstockphoto.com/2/883610/search/?q=dog\"));\r\n\r\n        var images = new Array<string>();\r\n        for (var i in json_obj.data.images) {\r\n            var image = json_obj.data.images[i].small_thumb.url;\r\n            images.push(image);\r\n        }\r\n\r\n        var url = new ImageProvider().GetImageUrl(\"car\");\r\n\r\n        this.game.load.image(\"background\", \"images/background.jpg\");\r\n        this.game.load.image(\"box\", images[0]);\r\n    }\r\n\r\n    create = () => {\r\n        this.game.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\r\n        \r\n        this.background = new MySprite(this.game.add.sprite(0, 0, \"background\"));\r\n        this.background.object.inputEnabled = true;\r\n        this.background.object.scale.setTo(window.screen.width / this.background.object.width, window.screen.height / this.background.object.height);\r\n\r\n        var group = this.game.add.group();\r\n        group.inputEnableChildren = true;\r\n\r\n        var screenRectangle = new Phaser.Rectangle(0, 0, window.screen.width, window.screen.height);\r\n        var test: Phaser.Sprite = group.create(0, 0, \"box\");\r\n        var testTargetWidth = window.screen.width / 10;\r\n        var scale = testTargetWidth / test.width;\r\n        test.scale.setTo(scale, scale);\r\n\r\n        var rectangles = new Array<Phaser.Rectangle>();\r\n        while (rectangles.length < 10) {\r\n            let newRectangle = new Phaser.Rectangle(this.game.rnd.integerInRange(0, window.screen.width), this.game.rnd.integerInRange(0, window.screen.height), test.width, test.height);\r\n\r\n            var add = true;\r\n            for (let i in rectangles) {\r\n                let rectangle = rectangles[i];\r\n                if (Phaser.Rectangle.intersects(rectangle, newRectangle)) {\r\n                    add = false;\r\n                    break;\r\n                }\r\n\r\n                if (!screenRectangle.containsRect(newRectangle)) {\r\n                    add = false;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (add)\r\n                rectangles.push(newRectangle);\r\n        }\r\n\r\n        group.remove(test, true);\r\n\r\n        for (let i in rectangles) {\r\n            let rectangle = rectangles[i];\r\n            let sprite: Phaser.Sprite = group.create(rectangle.x, rectangle.y, \"box\");\r\n            sprite.inputEnabled = true;\r\n            sprite.input.enableDrag();\r\n            sprite.input.boundsRect = screenRectangle;\r\n            sprite.scale.setTo(scale, scale);\r\n        }\r\n         \r\n//        sonic.events.onDragStart.add(() => { this.onDragStart(); }, this);\r\n//        sonic.events.onDragStop.add(() => { this.onDragStop(); }, this);\r\n//\r\n//        group.onChildInputDown.add(() => { this.onDown(); }, this);\r\n\r\n        //var musicFile = new Media(\"http://translate.google.com/translate_tts?ie=UTF-8&total=1&idx=0&textlen=32&client=tw-ob&q=%C5%BBryj%20o%C5%82%C3%B3w%20suko&tl=Pl-pl\", null, null);\r\n        var musicFile = new Media(\"file:///android_asset/www/audio/theme.mp3\", null, null);\r\n        //var musicFile = new Media(\"ms-appdata:///www/audio/theme.mp3\", null, null);\r\n        musicFile.play();\r\n    }\r\n\r\n    private Get = (yourUrl) => {\r\n        var Httpreq = new XMLHttpRequest(); // a new request\r\n        Httpreq.open(\"GET\", yourUrl, false);\r\n        Httpreq.send(null);\r\n        return Httpreq.responseText;\r\n\r\n    }\r\n\r\n    render = () => {\r\n    }\r\n    \r\n    update = () => {\r\n    }\r\n}\r\n","// For an introduction to the Blank template, see the following documentation:\r\n// http://go.microsoft.com/fwlink/?LinkID=397705\r\n// To debug code on page load in Ripple or on Android devices/emulators: launch your app, set breakpoints, \r\n// and then run \"window.location.reload()\" in the JavaScript Console.\r\n\r\n\r\n/// <reference path=\"Game.ts\" />\r\nmodule PhaserGame33 {\r\n    \"use strict\";\r\n\r\n    class Application {\r\n\r\n        public initialize = () => {\r\n            document.addEventListener('deviceready', this.onDeviceReady, false);\r\n        }\r\n\r\n        private onDeviceReady = () => {\r\n        }\r\n    }\r\n\r\n    window.onload = () => {\r\n        var game = new PhaserGame();\r\n    }\r\n}\r\n"]}