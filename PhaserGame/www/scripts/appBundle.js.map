{"version":3,"file":"appBundle.js","sourceRoot":"","sources":["../../scripts/ImageProvider.ts","../../scripts/Game.ts","../../scripts/Menu.ts","../../scripts/ScreenHelper.ts","../../scripts/index.ts","../../scripts/Interfaces/PhaserInterfaces.ts"],"names":["ImageProvider","ImageProvider.constructor","PhaserGame","PhaserGame.constructor","PhaserGame.Start","Menu","Menu.constructor","Menu.Preload","Menu.Create","ScreenHelper","ScreenHelper.constructor","Application","Application.Application","Application.Application.constructor"],"mappings":"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","sourcesContent":["interface IImageProvider {\r\n    GetImageUrl(q: string, style?: string);\r\n}\r\n\r\nclass ImageProvider implements IImageProvider {\r\n    public GetImageUrl = (q: string, style?: string) : string => {\r\n        //return this.getFromIconFinder(q, style);\r\n        return this.getFromImageStock(q);\r\n    }\r\n\r\n    private getFromIconFinder = (q: string, style?: string): string => {\r\n        var url = \"http://localhost:3654/imageprovider/iconfinder?\";\r\n        url = url + \"q=\" + q;\r\n        if (!!style)\r\n            url = url + \"&style=\" + style;\r\n\r\n        return url;\r\n    }\r\n\r\n    private getFromImageStock = (q : string) : string => {\r\n        var jsonObj = JSON.parse(this.get(\"http://testapi.bigstockphoto.com/2/883610/search/?q=\" + q));\r\n\r\n        var images = new Array<string>();\r\n        for (let i in jsonObj.data.images) {\r\n            const image = jsonObj.data.images[i].small_thumb.url;\r\n            images.push(image);\r\n        }\r\n\r\n        return images[0];\r\n    }\r\n\r\n    private get = (yourUrl) => {\r\n        var httpreq = new XMLHttpRequest(); \r\n        httpreq.open(\"GET\", yourUrl, false);\r\n        httpreq.send(null);\r\n        return httpreq.responseText;\r\n\r\n    }\r\n}","/// <reference path=\"../www/scripts/typings/phaser.d.ts\" />\r\n/// <reference path=\"ImageProvider.ts\" />\r\n\r\n\r\nclass PhaserGame {\r\n    public phaser: Phaser.Game;\r\n    private imageProvider: IImageProvider;\r\n    private menu: Menu;\r\n\r\n    private background: Phaser.Sprite;\r\n    private group : Phaser.Group;\r\n\r\n    constructor() {\r\n        this.imageProvider = new ImageProvider();\r\n        this.menu = new Menu(this);\r\n\r\n        this.phaser = new Phaser.Game(ScreenHelper.GetScreenWidth(), ScreenHelper.GetScreenHeight(), Phaser.AUTO, \"content\", { preload: () => { this.preload(); }, create: () => { this.create(); }, update: () => { this.update(); }, render: () => { this.render(); } });\r\n    }\r\n    \r\n    public Start() {\r\n        if (this.group != null)\r\n            this.group.removeAll(true);\r\n\r\n        this.group = this.phaser.add.group();\r\n        this.group.inputEnableChildren = true;\r\n\r\n        var screenRectangle = new Phaser.Rectangle(0, 0, ScreenHelper.GetScreenWidth(), ScreenHelper.GetScreenHeight());\r\n        var test: Phaser.Sprite = this.group.create(0, 0, \"sprite\");\r\n        ScreenHelper.ScaleByScreenWidth(test, 0.1);\r\n\r\n        var rectangles = new Array<Phaser.Rectangle>();\r\n        while (rectangles.length < 10) {\r\n            let newRectangle = new Phaser.Rectangle(this.phaser.rnd.integerInRange(0, ScreenHelper.GetScreenWidth()), this.phaser.rnd.integerInRange(0, ScreenHelper.GetScreenHeight()), test.width, test.height);\r\n\r\n            var add = true;\r\n            for (let i in rectangles) {\r\n                let rectangle = rectangles[i];\r\n                if (Phaser.Rectangle.intersects(rectangle, newRectangle)) {\r\n                    add = false;\r\n                    break;\r\n                }\r\n\r\n                if (!screenRectangle.containsRect(newRectangle)) {\r\n                    add = false;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            if (add)\r\n                rectangles.push(newRectangle);\r\n        }\r\n\r\n        this.group.remove(test, true);\r\n\r\n        for (let i in rectangles) {\r\n            let rectangle = rectangles[i];\r\n            let sprite: Phaser.Sprite = this.group.create(rectangle.x, rectangle.y, \"sprite\");\r\n            sprite.inputEnabled = true;\r\n            sprite.input.enableDrag();\r\n            sprite.input.boundsRect = screenRectangle;\r\n            ScreenHelper.ScaleByScreenWidth(sprite, 0.1);\r\n        }\r\n    }\r\n    \r\n    preload = () => {\r\n        this.phaser.load.image(\"background\", \"images/background.jpg\");\r\n        this.menu.Preload();\r\n\r\n        this.phaser.load.image(\"sprite\", this.imageProvider.GetImageUrl(\"dog\"));\r\n    }\r\n\r\n    create = () => {\r\n        this.phaser.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL;\r\n        \r\n        this.background = this.phaser.add.sprite(0, 0, \"background\");\r\n        this.background.inputEnabled = true;\r\n        this.background.scale.setTo(ScreenHelper.GetScreenWidth() / this.background.width, ScreenHelper.GetScreenHeight() / this.background.height);\r\n        \r\n\r\n        this.menu.Create();\r\n\r\n\r\n        //var musicFile = new Media(\"http://translate.google.com/translate_tts?ie=UTF-8&total=1&idx=0&textlen=32&client=tw-ob&q=%C5%BBryj%20o%C5%82%C3%B3w%20suko&tl=Pl-pl\", null, null);\r\n        var musicFile = new Media(\"file:///android_asset/www/audio/agibagi.mp3\", null, null);\r\n        //var musicFile = new Media(\"ms-appdata:///www/audio/theme.mp3\", null, null);\r\n        musicFile.play();\r\n        \r\n        this.menu.Show();\r\n    }\r\n\r\n    render = () => {\r\n    }\r\n    \r\n    update = () => {\r\n    }\r\n}\r\n","/// <reference path=\"../www/scripts/typings/phaser.d.ts\" />\r\n\r\nclass Menu implements IPreloadAndICreate\r\n{\r\n    private game: PhaserGame;\r\n    private startButton : Phaser.Button;\r\n    private pauseText : Phaser.Text;\r\n\r\n    constructor(game: PhaserGame) {\r\n        this.game = game;\r\n    }\r\n\r\n    public Show = () => {\r\n        this.game.phaser.paused = true;\r\n        this.startButton.visible = true;\r\n        this.pauseText.visible = false;\r\n    }\r\n    \r\n    public Hide = () => {\r\n        this.pauseText.visible = true;\r\n        this.startButton.visible = false;\r\n        this.game.phaser.paused = false;\r\n    }\r\n\r\n    public Preload(): void {\r\n        this.game.phaser.load.spritesheet(\"button\", \"http://www.clker.com/cliparts/t/2/J/p/t/d/start-button-png-hi.png\", 0, 0);\r\n    }\r\n\r\n    public Create(): void {\r\n        this.startButton = this.game.phaser.add.button(0, 0, \"button\", () => {}, this.game.phaser);\r\n        this.startButton.visible = false;\r\n        ScreenHelper.ScaleByScreenWidth(this.startButton, 0.3);\r\n        this.startButton.centerX = ScreenHelper.GetScreenWidth() / 2;\n        this.startButton.centerY = ScreenHelper.GetScreenHeight() / 2;\n        \n        this.pauseText = this.game.phaser.add.text(0, 0, \"Pause\", { font: \"24px Arial\", fill: \"#fff\" });\n        this.pauseText.inputEnabled = true;\r\n        ScreenHelper.ScaleByScreenWidth(this.pauseText, 0.05);\r\n        this.pauseText.x = ScreenHelper.GetScreenWidth() - this.pauseText.width - 10;\r\n        this.pauseText.y += 10;\r\n        \r\n        this.pauseText.events.onInputUp.add(() => { this.Show(); });\r\n        this.game.phaser.input.onDown.add(() => { this.onScreenClick(); }, this.game.phaser);\r\n    }\r\n    \r\n    private onScreenClick = () => {\r\n        if (!this.game.phaser.paused)\r\n            return;\r\n\r\n        var startButtonRect = new Phaser.Rectangle(this.startButton.x, this.startButton.y, this.startButton.width, this.startButton.height);\r\n        if (!startButtonRect.contains(this.game.phaser.input.x, this.game.phaser.input.y) && this.game.phaser.input.x > 0 && this.game.phaser.input.y > 0)\r\n            return;\r\n\r\n        this.Hide();\r\n        this.game.Start();\r\n    }\r\n}","class ScreenHelper {\r\n    static GetScreenWidth =() : number => {\r\n        return window.screen.width;\r\n    }\r\n\r\n    static GetScreenHeight = (): number => {\r\n        return window.screen.height;\r\n    }\r\n\r\n    static ScaleByScreenWidth = (sprite : PIXI.Sprite, scale : number) => {\r\n        if (scale < 0 || scale > 1)\r\n            throw \"ScaleByScreenWidth: ArgumentException\";\r\n            \r\n        var targetWidth = ScreenHelper.GetScreenWidth() * scale;\r\n        var targetScale = targetWidth / sprite.width;\r\n        sprite.scale.x = targetScale;\r\n        sprite.scale.y = targetScale;\r\n    }\r\n}","// For an introduction to the Blank template, see the following documentation:\r\n// http://go.microsoft.com/fwlink/?LinkID=397705\r\n// To debug code on page load in Ripple or on Android devices/emulators: launch your app, set breakpoints, \r\n// and then run \"window.location.reload()\" in the JavaScript Console.\r\n\r\n\r\n/// <reference path=\"Game.ts\" />\r\nmodule Application {\r\n    \"use strict\";\r\n\r\n    class Application {\r\n        public initialize = () => {\r\n            document.addEventListener('deviceready', this.onDeviceReady, false);\r\n        }\r\n\r\n        private onDeviceReady = () => {\r\n        }\r\n    }\r\n\r\n    window.onload = () => {\r\n        var game = new PhaserGame();\r\n    }\r\n}\r\n","interface ICreate {\r\n    Create(): void;\r\n}\r\n\r\ninterface IPreload {\r\n    Preload(): void;\r\n}\r\n\r\ninterface IPreloadAndICreate extends IPreload, ICreate {\r\n    \r\n}\r\n"]}